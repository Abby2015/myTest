(function(a,h,d){var u=document,k=[].slice,b=a.CSSRule||{},r=b.IMPORT_RULE,g=b.MEDIA_RULE,l=b.KEYFRAMES_RULE||b.WEBKIT_KEYFRAMES_RULE||b.MOZ_KEYFRAMES_RULE||b.O_KEYFRAMES_RULE,s=document.documentElement.style,j=function(v){return(v+"").replace(/^-ms-/,"ms-").replace(/-([a-z]|[0-9])/ig,function(w,x){return(x+"").toUpperCase();});},t=function(){var v="-webkit- -moz- -o- -ms-".split(" "),w;while(w=v.shift()){if(j(w+"animation") in s){return w;}}return"";}(),p=new RegExp("@(?:"+t+")?keyframes","i");function m(){var x=0,v,w;while(v=u.styleSheets.item(x++)){if(v.cssRules){return v;}}w=u.createElement("style");w.type="text/css";u.getElementsByTagName("head")[0].appendChild(w);return w.sheet;}function i(w){k.call(u.styleSheets).forEach(function v(x){k.call(x.cssRules).forEach(function(z,y){if(z.type==r){v(z.styleSheet||z.sheet);}else{if(z.type==g){v(z);}else{if(z.type==l){w(z,y,x);}}}});});}function e(v){var x=j(v),w=j(t+x);return(x in s)&&v||(w in s)&&t+v||v;}function f(v){return{from:"0%",to:"100%"}[v]||(v+"").replace("%","")+"%";}function q(x,v){var w="";if(typeof x=="string"){if(p.test(x)){return x;}w=x.replace(/^\s*{\s*(?={)|}\s*(?=}\s*$)/gi,"");}else{if(Array.isArray(x)){w=x.map(function(z,y){return(y/(x.length-1)*100||0)+"%"+" { "+n(z)+" }";}).join(" ");}else{if(x){w=Object.keys(x).map(function(z){var y=n(x[z]);return c(z).map(function(A){return f(A)+" { "+y+" }";}).join(" ");}).join(" ");}}}return"@"+t+"keyframes "+v+" { "+w+" }";}function n(x,w){var v="";if(typeof x=="string"){v=n(x.split(/\s*;\s*/g));}else{if(Array.isArray(x)){v=n(x.reduce(function(z,A){var y=A.split(/\s*:\s*/);if(y.length>1){z[y[0]]=y[1];}return z;},{}));}else{if(x){v=Object.keys(x).map(function(y){return e(y)+": "+x[y]+";";}).join(" ");}}}return v;}function c(v){return(v+"").trim().split(/\s*[\s,]\s*/);}h.prototype={constructor:h,init:function(w,y){var v;if(!h.support){return this;}if(typeof w=="object"||p.test(w)){if(w.cssRules&&w.type==l){v=w;}else{y=w;w=null;}}if(!w){w="js2keyframes-"+parseInt(Math.random()*10000000000);}if(!v){var x=m(),z=x.insertRule(q(y,w),x.cssRules.length);v=x.cssRules[z];}this.keyframesRule=v||{};return this.extract();},extract:function(){this.keyframes=k.call(this.cssRules).reduce(function(w,v){w[v.keyText]=v;return w;},{});return this;},get:function(v){return this.keyframes[f(c(v)[0])];},add:function(w,A){var y=this.keyframesRule,z="appendRule" in y?"appendRule":"insertRule",v;if(typeof w=="object"){for(var x in w){this.add(x,w[x]);}}else{v=n(A);c(w).forEach(function(B){this.remove(B);y[z](f(B)+" { "+v+" }");}.bind(this));}return this.extract();},remove:function(v){var w=this.keyframesRule;c(v).forEach(function(x){w.deleteRule(f(x));});return this.extract();},clear:function(){k.call(this.cssRules).forEach(function(v){this.remove(v.keyText);}.bind(this));return this.extract();}};var o={vendor:t,get:function(v){return this.CSSKeyframes[v];},add:function(){return this.apply(null,arguments);},remove:function(v){i(function(y,x,w){if(y.name==(v.name||v)){w.deleteRule(x);}});return true;},animation:j(e("animation")),support:j(e("animation")) in s};if(typeof Object.defineProperties=="function"){Object.keys(o).forEach(function(v){h[v]=o[v];});"name cssText cssRules".split(" ").forEach(function(v){Object.defineProperty(h.prototype,v,{get:function(){return this.keyframesRule[v];},enumerable:true});});Object.defineProperty(h,"CSSKeyframes",{get:function(){var v={};i(function(w){v[w.name]=this(w);}.bind(this));return v;},enumerable:true});}a.JS2CSSKeyframes=h;})(window,function(a,b){if(!(this instanceof arguments.callee)){return new arguments.callee(a,b);}this.init(a,b);});
